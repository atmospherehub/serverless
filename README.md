# Gateway for Atmosphere stations and API
```
                                                       +-[queue] atmosphere+processed+images
                                                       |
                                                       |
                                                       |
+--------------------+        +--------------------+   |    +--------------------+
|    FacesUpload     +-------->    ProcessImage    +---?---->  PostProcessImage  |
+--------------------+        +--------------------+        +---------+----------+
                                                                      |
                                                                      ?----[topic] atmosphere+images+with+faces
                                                                      |
                         +--------------+--------------+--------------+--------------+
                         |              |              |                             |
                         |              |    +---------v----------+        +---------v----------+
                         |              |    |     StoreTable     |        |     StoreSql       |
                         |              |    +--------------------+        +---------+----------+
                         |              |                                            |
                         |              |                                            ?----[topic] atmosphere+images+in+db
                         |    +---------v----------+                                 |
                         |    |    NotifySlack     |                  +--------------+-------------+
                         |    +--------------------+                  |                            |
                         |                                  +---------v----------+       +---------v----------+
                         |                                  |   StoreRectangles  |       |     StoreZoomIn    |
               +---------v----------+                       +--------------------+       +--------------------+
               |     NotifyMQTT     |
               +--------------------+



+--------------------+        +--------------------+
|   GenerateReport   +---?---->   SendEmailReport  |
+--------------------+   |    +--------------------+
                         |
                         |
                         +-[topic] atmosphere+reports

```
